<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Variable de session non defini</title>
    <link href="../../../../gfx/game/Twinoid.ico" rel="icon" type="image/gif"/>
    <link href="../../../../css/twinoid_layout.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/twinoid_bar.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/custom.css" rel="stylesheet" type="text/css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.tid_niceHiddenNotice').click(function() {
                $(this).next('.tid_post').slideDown(500);
                $(this).slideUp(250);
            });
        });
    </script>
</head>
<body>
    <div id="contentBg">
        <div class="tid_forum_init" id="tid_forum">
            <div id="tid_forum_all"></div>
            <table class="tid_forumLayout">
                <tbody>
                    <tr>
                        <td id="tid_forum_right">
                            <div class="tid_containerWrapper">
                                <div class="tid_forumThread">
                                    <div class="tid_mainBar">
                                        <div class="tid_stack tid_bg4">
											<a class="tid_bg4" href="../../../Index.html" tid_href="left:">
												<img src="../../../../gfx/design/flag_FR.svg" style="width: 20px; height: 15px; vertical-align: middle;">
												Accueil
											</a>
                                            <a class="tid_bg4" href="../../Index.html" tid_href="left:">Twinoid</a>
                                            <a class="tid_bg4" href="../Index.html" tid_href="left:">Développement</a>
                                            <span class="tid_title">Variable de session non defini</span>
                                        </div>
                                        
                                    </div>
                                    <div class="tid_clear tid_threadStart"></div>
                                    <div class="tid_post tid_ tid_read" id="tid_forumPost_0">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 7 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Salut,</p><p>Je récupérer comme il faut les info de <em>USER </em>je les passe en variable de session sur la même je les affiche sans problème.</p><p>Depuis cette pages je passe sur une autres mais la il ne reconnait plus les variables et me mais cette erreur :</p><pre> Notice: Undefined variable: _session in C:\wamp\www\lacitadelledelahordes\PROFIL.php on line 16
</pre><p>En début de pages j'ai bien le <em>session_start();</em> de mit.</p><p>C'est pas suffisant ?<br>Il manque autres choses ?<br>Pourquoi c'est fonctionnel sur une pages mais pas sur l’autre ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_1">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="Moopvu" style="background-color: rgb(204,82,186); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 8 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1719669 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1719669/1" tid_id="1719669">Moopvu</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">ZZz....zZzz...</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Tu arrives à les définir et les afficher sur une même page, mais ton problème intervient sur une autre page. Donc il y a probablement un problème sur ton autre page. Qu'est-ce que tu essayes d'afficher, ou plutôt, comment utilises-tu ta session sur l'autre page ? Si tu as bien mis <em>session_start();</em> sur tes deux pages, je ne vois personnellement pas de problème... Tu l'as bien mis au début, début, de ton autre page ?</p><p>Est-ce que si tu essayes <a target="_blank" href="http://php.net/manual/fr/function.session-start.php">l'exemple de la récupération des sessions</a> sur une autre page, proposé par <strong>php.net</strong>, tu as aussi une erreur ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_2">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 8 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Les <em>session_start();</em> de chaque pages sont les actions faites en tout premier.</p><p>Sur la page 1 : les variables sont définie et affiché sans problème.<br>On passe de la page 1 a la page 2.<br>Sur la page 2 les même variables mais elles ne s'affichent pas.</p><p>Code de la page 2 :</p><pre>&lt;?php
 session_start();
?&gt;

&lt;html&gt;
 &lt;head&gt;
 &lt;meta charset="utf-8" /&gt;
 &lt;title&gt;Profil&lt;/title&gt;
 &lt;/head&gt;

 &lt;body&gt;
 
 &lt;p&gt;
 Profil de 
 &lt;?php
 echo $_session['pseudo'];
 echo $_session['idtwin'];
 echo $_session['avatar'];
 echo $_session['region'];
 ?&gt;
 &lt;/p&gt;
 
 &lt;/body&gt;
&lt;/html&gt;
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_3">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_c_e_0b4f87d3_8297_100x100.png" title="kill0u" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 8 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_8297 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/8297/1" tid_id="8297">kill0u</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\defender_4.png" title=""/> Psychopathe du classement</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>C'est pas</p><pre>$_SESSION</pre><p>en PHP ? (en majuscules, donc)</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_4">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 8 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>C'est bien cela mais pourquoi il le prenais comme juste sur la page 1 alors ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_5">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 8 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Parce que tu les définies sur la page 1 justement.</p><p>$_session même si ce n'est pas la variable de session globale, ça reste une variable normale qui a une durée de vie égale à celle du script.</p><p>C'est comme si tu faisais ceci:<br>Page 1:</p><pre>$toto['var1'] = 'tata'; //mais là normalement tu aurais dû avoir une erreur NOTICE, vu que $toto ($_session), n'a pas été définie auparavant.
echo $toto['var1']; // affiche tata
</pre><p>Page 2 :</p><pre>echo $toto['var']; // variable non définie =&gt; erreur
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_6">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 9 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Ok</p><p>Autres problème sur la pages 1 l'arrivé sur la pages pas de soucis mais si on actualise pour chaque variable de session il affiche :</p><pre>Notice: Undefined property: stdClass::$access_token in C:\wamp\www\lacitadelledelahordes\Accueil.php on line 34
</pre><p>C'est qu'il veut recrée les variables ?</p><p>J'ai aussi ceci pour la dernière :</p><pre>Notice: Trying to get property of non-object in C:\wamp\www\lacitadelledelahordes\Accueil.php on line 62
</pre><p>C'est du a la précédentes ou rien avoir ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_7">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_0_0_78f326eb_3586161.jpg" title="gwae" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 9 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_3586161 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/3586161/1" tid_id="3586161">gwae</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\medal.png" title=""/> Grand bÃ¢tisseur</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Dur à dire sans voir plus de code ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_8">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 9 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <pre> if (isset($_GET['code'])) // Gestion du token
 {
 $url = "https://twinoid.com/oauth/token?response_type=token&amp;client_id=$client_id&amp;client_secret=$client_secret&amp;redirect_uri=$redirect_uri&amp;code=$code&amp;grant_type=$grant_type";
 
 $ch = curl_init();
 curl_setopt($ch, CURLOPT_URL, "http://localhost/lacitadelledelahordes/Accueil.php");
 curl_setopt($ch, CURLOPT_URL, $url);
 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
 curl_setopt($ch, CURLOPT_HEADER, false);
 curl_setopt($ch, CURLOPT_POST,true);
 curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
 curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
 
 $result = curl_exec($ch);
 
 if($result == false)
 {
 trigger_error('Erreur curl : '.curl_error($ch),E_USER_WARNING);
 }

 else
 {
 $json = $result;
 $token = json_decode($json);
 $_SESSION['token'] = $token-&gt;{"access_token"}; 
 }

 curl_close($ch);
 
 }
 else
 {
 echo 'Vous n\'avez pas autoriser l\'application';
 }


 $url="http://twinoid.com/graph/me?access_token=$_SESSION[token]";
 $ch = curl_init();
 curl_setopt($ch, CURLOPT_URL, "http://localhost/lacitadelledelahordes/Accueil.php");
 curl_setopt($ch, CURLOPT_URL, $url);
 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
 curl_setopt($ch, CURLOPT_HEADER, false);
 curl_setopt($ch, CURLOPT_POST,true);
 curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
 curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);

 $result = curl_exec($ch);
 $json = $result;
 $user = json_decode($json);
 $_SESSION['pseudo'] = $user-&gt;{"name"};
 $_SESSION['region'] = $user-&gt;{"locale"};
 $_SESSION['idtwin'] = $user-&gt;{"id"};
 $_SESSION['avatar'] = $user-&gt;{"picture"}-&gt;{"url"};
 curl_close($ch);
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_9">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_0_0_78f326eb_3586161.jpg" title="gwae" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_3586161 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/3586161/1" tid_id="3586161">gwae</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\medal.png" title=""/> Grand bÃ¢tisseur</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p><img src="../../../../gfx/forum/smiley/h_tamer.gif" alt=":hordes_bichon:" class="tid_ico"></p><p>D'où sort cette syntaxe ? <br><cite>$token-&gt;{"access_token"};</cite><br>Elle n'a aucun sens. Ce que tu veux faire, c'est :<br><cite>$token['access_token'];</cite><br>Vu que la valeur retournée par ton json_decode est un array|bool (<a href="https://secure.php.net/manual/fr/function.json-decode.php)," target="_blank">https://secure.php.net/manual/fr/func...</a> donc ce -&gt; issu de la syntaxe objet n'a rien à faire ici.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_10">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Heu déjà que ça marche pas, va pas lui créer de nouveaux bugs <img src="../../../../gfx/square/wink.png" alt=";)" class="tid_ico"></p><p>Le javascript retourne un objet via le json qui deviendra donc un objet stdClass en php, sa syntaxe est donc correcte (même si $token-&gt;access_token est plus simple comme écriture)</p><p>Pendant qu'on est sur la syntaxe, ça m'étonnerait que</p><pre>$_SESSION[token]</pre><p>fonctionne (manque les quotes)</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_11">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p><span class="tid_user tid_user_3586161 tid_userBg tid_userUnknown tid_parsed" tid_bg="1" tid_id="3586161">gwae</span> <a target="_blank" href="https://dl.dropboxusercontent.com/u/105639326/motion%20twin/Screenshot_9.png">J'ai certes peut être un notation bizarre mais la votre fonctionne pas du tout</a></p><p><span class="tid_user tid_user_1244143 tid_userBg tid_userUnknown tid_parsed" tid_bg="1" tid_id="1244143">badconker</span> <a target="_blank" href="https://dl.dropboxusercontent.com/u/105639326/motion%20twin/Screenshot_7.png">Si elle fonctionne quand on y arrive dessus </a> mais <a target="_blank" href="https://dl.dropboxusercontent.com/u/105639326/motion%20twin/Screenshot_8.png">si on actualise la page après on obtient les erreurs</a></p><p>Donc les lignes concerné sont celle là :</p><pre>$_SESSION['token'] = $token-&gt;{"access_token"}; //ligne 34

$_SESSION['pseudo'] = $user-&gt;{"name"}; //ligne 59
$_SESSION['region'] = $user-&gt;{"locale"}; //ligne 60
$_SESSION['idtwin'] = $user-&gt;{"id"}; //ligne 61
$_SESSION['avatar'] = $user-&gt;{"picture"}-&gt;{"url"}; //ligne 62
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_12">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Ah oui tiens quand on est dans une string on peut omettre les quotes d'un tableau (mais perso, je ne pense pas que ce soit une bonne habitude à prendre)</p><p>Pour en revenir à ton problème, je n'ai jamais encore regardé l'API en détail mais si je me trompe pas, ta page Accueil c'est la page sur laquelle on atterrit une fois qu'on s'est connecté à Twinoid.</p><p>Donc première fois tout se passe bien tu te connectes, tu récupères un code qui te permet de récupérer un token.</p><p>Ensuite tu rafraîchis la page, tu as donc toujours le même code et ça m’étonnerait qu'on puisse appeler <a href="https://twinoid.com/oauth/token" target="_blank">https://twinoid.com/oauth/token</a> deux fois d'affilé avec le même code donc ça foire et du coup le json est pas bon et c'est de là que provient la première erreur et par cascade, toutes les autres.</p><p>Si plutôt que de rafraîchir la page telle quelle, tu enlève le code de l'url avant, ça devrait fonctionner.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_13">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Je voit pas de quoi tu parle dans ta première phrase. <img src="../../../../gfx/square/confused.png" alt=":{" class="tid_ico"></p><p>Oui, tout a fait c'est la pages de redirection.</p><p>On peut pas faire un test pour vérifier si cela a deja était fait et passer sans le faire si c'est oui ?</p><p>Enlever le code de quelle url ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_14">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Explication, première phrase :</p><pre>$str = $_SESSION[token]
</pre><p>Erreur, ne fonctionnera pas</p><pre>$str = "$_SESSION[token]";
</pre><p>Fonctionnera mais pas une bonne habitude car tu risques d'oublier les quotes quand tu ne sera pas à l'intérieur de guillemets.</p><p>Ensuite quand tu reviens de la connexion twinoid tu a bien la variable code dans l'url non ?</p><pre>http://tondomaine/Accueil.php?code=[code]
</pre><p>Pour pas redemander un token, tu peux soit rajouter</p><pre>&amp;&amp;!isset($_SESSION['token'])</pre><p>, soit faire une redirection après la récupération du token :</p><pre>header("Location: " .$redirect_uri);
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_15">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Le probleme des quotes c'est par rapport a cette ligne ?</p><pre>$url="http://twinoid.com/graph/me?access_token=$_SESSION[token]";
</pre><p>Sinon c'est quoi la bonne syntaxe ?</p><p>La souci d'actualisation est corrigé avec le isset mais pourquoi un point d’exclamation ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_16">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Ce serait :</p><pre>$url="http://twinoid.com/graph/me?access_token=$_SESSION['token']";
</pre><p>ou encore plus mieux (je trouve mais c'est subjectif)</p><pre>$url='http://twinoid.com/graph/me?access_token='.$_SESSION['token'];
</pre><p><cite>La souci d'actualisation est corrigé avec le isset mais pourquoi un point d’exclamation ?</cite><br>Le point d'exclamation retourne true si isset n'est pas égale à true.<br>Ça signifie la même chose que ça :</p><pre>isset($toto) != true
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_17">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Le premier me donne un jolie <em>Parse error: syntax error, unexpected</em></p><p>La deuxième me donne un <em>Notice: Undefined property</em></p><p>Mais par défaut il ne renvoie rien ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_18">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>oups j'ai oublié un truc pour la première (en même temps je ne l'utilise jamais ^^) :</p><pre>$url="http://twinoid.com/graph/me?access_token={$_SESSION['token']}";
</pre><p>Pour la deuxième, l'erreur n'est pas liée à la syntaxe que je t'ai donné, tu dois avoir un problème avec ta session ou tu ne l'as pas écrit de la même façon que moi.</p><br><p><cite>Mais par défaut il ne renvoie rien ?</cite><br>Si tu parle du point d'exclamation, ta question ne veut pas dire grand chose <img src="../../../../gfx/square/wink2.png" alt=":wink:" class="tid_ico"> <br>C'est un opérateur logique comme le sont &amp;&amp; ou || : <a href="http://php.net/manual/fr/language.operators.logical.php" target="_blank">http://php.net/manual/fr/language.ope...</a></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_19">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_2_a_01970e05_493393_100x100.png" title="bleuazur" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_493393 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/493393/1" tid_id="493393">bleuazur</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle">La garde meurt, mais ne se rend pas !</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>J'ai du me louper vu que là la deuxième fonctionne.</p><p>Le point d’exclamation inverse le retour normal fait par isset c'est tout ?<br>édit : j'ai dit une bêtise</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_20">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_9_2683f98e_1244143.jpg" title="badconker" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 10 décembre 2015
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1244143 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1244143/1" tid_id="1244143">badconker</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\blitz_cycle.png" title=""/> HÃ© mec, Il est oÃ¹ mon vaisseau ?</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <span class="tid_preCite"><span class="tid_user tid_user_493393 tid_userBg tid_userUnknown tid_parsed" tid_bg="1" tid_id="493393">bleuazur</span></span><cite>Le point d’exclamation inverse le retour normal fait par isset c'est tout ?</cite><p>En gros oui.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div>
                                    <div id="tid_forumReplyForm" style="display: none"></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>