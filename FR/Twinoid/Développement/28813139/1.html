<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Aide C++</title>
    <link href="../../../../gfx/game/Twinoid.ico" rel="icon" type="image/gif"/>
    <link href="../../../../css/twinoid_layout.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/twinoid_bar.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/custom.css" rel="stylesheet" type="text/css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.tid_niceHiddenNotice').click(function() {
                $(this).next('.tid_post').slideDown(500);
                $(this).slideUp(250);
            });
        });
    </script>
</head>
<body>
    <div id="contentBg">
        <div class="tid_forum_init" id="tid_forum">
            <div id="tid_forum_all"></div>
            <table class="tid_forumLayout">
                <tbody>
                    <tr>
                        <td id="tid_forum_right">
                            <div class="tid_containerWrapper">
                                <div class="tid_forumThread">
                                    <div class="tid_mainBar">
                                        <div class="tid_stack tid_bg4">
											<a class="tid_bg4" href="../../../Index.html" tid_href="left:">
												<img src="../../../../gfx/design/flag_FR.svg" style="width: 20px; height: 15px; vertical-align: middle;">
												Accueil
											</a>
                                            <a class="tid_bg4" href="../../Index.html" tid_href="left:">Twinoid</a>
                                            <a class="tid_bg4" href="../Index.html" tid_href="left:">Développement</a>
                                            <span class="tid_title">Aide C++</span>
                                        </div>
                                        
                                    </div>
                                    <div class="tid_clear tid_threadStart"></div>
                                    <div class="tid_post tid_ tid_read" id="tid_forumPost_0">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_a_a5385c62_36482_100x100.png" title="Lokapi" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 18 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36482 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36482/1" tid_id="36482">Lokapi</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Frogs.png" title=""/> Lez Arts Ã  Dorer</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Je pense qu'il est de temps à autres préférable d'ouvrir un nouveau sujet que de poster dans un qui n'a rien à voir.<br><a target="_self" href="/tid/forum#!view/61824|thread/23504275?p=1">Le C par exemple.</a> Même si les deux sont liés.</p><p>Depuis quelques temps, j'ai fait quelques progrès en C++, au moins de commencer des jeux en SFML.</p><p>Toutefois, j'évite l'utilisation des pointeurs, pas que je trouve cela compliqué -ou si quand, même un peu-, mais je préfère les passages par référence.</p><p>Mais là, je bloque, je ne sais dans quelle direction avancer.<br>J'aimerai créer des instances d'une classe "à la chaine" que l'on pourrait réutiliser par une simple boucle.<br>Par exemple, plus on avance dans le temps, plus le nombre d'ennemis est grand, à chaque ennemi, instance de la classe( du style tuberculoz[38] et tuberculz[39]). De même, si je veux faire un jeu d'échecs, chaque pion serait une instance de la classe Pion -même si je peux simuler le jeu avec un quadrillage, chose que je ne peux pas faire si le nombre d'instances varie constamment.-<br><br>L'inconvénient, est que j'ignore dans quelle direction chercher.<br><br>Pourriez-vous m'aider, au moins me mettre sur la voie ?<br><br>Merci,</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_1">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_4_e_33264d22_1856307_100x100.gif" title="SuperMonkey" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 18 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1856307 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1856307/1" tid_id="1856307">SuperMonkey</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\r_explo2.gif" title=""/> Guide de l'Outre-Monde</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Je suis pas sur d'avoir compris ton problème, mais j'ai l'impression que ce que tu cherches, c'est un tableau à taille variable?<br>Un <a target="_blank" href="http://www.cplusplus.com/reference/vector/vector/">vector</a> est ce que tu cherches dans ce cas. <img src="../../../../gfx/square/wink.png" alt=";)" class="tid_ico"></p><p>Dans ton cas :</p><pre>//creation de 10 ennemis
std::vector&lt;Tuberculoz&gt; ennemis;
for(int i=0; i &lt; 10; i++) {
 Tuberculoz monstre;
 ennemis.push_back(monstre);
}
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_2">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_a_a5385c62_36482_100x100.png" title="Lokapi" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 18 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36482 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36482/1" tid_id="36482">Lokapi</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Frogs.png" title=""/> Lez Arts Ã  Dorer</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Pas tout à fait.<br>j cherche à creer des instance d'une classe que l'on puisse récuperer, et donc effectuer les méthodes, grâce à des boucles.<br>Tout simplement :</p><pre>class maClass
{
public :
void fonction();
private :
};

main(){
int k;
cin &gt;&gt; k;

Creer k instance de la classe maClass

pour toutes les instances(avec un for ) faire maClass.fonction();

}</pre><p>Si ce n'est pas assez clair, je peux encore expliquer.<br>Merci quand même.</p><p>EDIT : ca a l'air de marcher, merci ♥♥♥<br>par contre, tous font la même méthode en même temps.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_3">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_4_e_33264d22_1856307_100x100.gif" title="SuperMonkey" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 18 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1856307 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1856307/1" tid_id="1856307">SuperMonkey</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\r_explo2.gif" title=""/> Guide de l'Outre-Monde</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Bah c'est bien ça mais je suis juste pas allé jusqu'au bout ^^<br>Mon code précédent correspond à "Creer k instance de la classe maClass".</p><p>Après pour accéder à chaque élément, c'est comme un tableau normal :</p><pre>for(int i=0; i &lt; ennemis.size(); i++) {
 ennemis[i].faireQqch();
}</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_4">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_a_a5385c62_36482_100x100.png" title="Lokapi" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 18 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36482 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36482/1" tid_id="36482">Lokapi</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Frogs.png" title=""/> Lez Arts Ã  Dorer</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>J'allais répondre, mais la fonction éditer ne fonctionnait plus.<br>Effectivement, en relisant mon code que j'avais recopié, j'ai bougé l'accolade et l'action se répétait dans la boucle.</p><p>Merci pour plusieurs raisons, <br>Le première est que c'est très simple, j'avais cherché des trucs pas possibles avec des pointeurs dans des tableaux... bref, pour utiliser une méthode c'était la galère.<br>La deuxième est que je vais pouvoir continuer sur ma lancée.</p><p>Bref, le monde est rose.</p><p><span class="tid_sideNote">J'ai choisi SFML au lieu de SDL pour le grapique, est-ce un bon choix ?</span></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_5">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_4_e_33264d22_1856307_100x100.gif" title="SuperMonkey" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 19 août 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_1856307 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/1856307/1" tid_id="1856307">SuperMonkey</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\r_explo2.gif" title=""/> Guide de l'Outre-Monde</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>- De rien <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"><br>- Oui, très bon choix ; pas de pointeurs, moins de lignes de code, C++ et non C, plus rapide (car utilise OpenGL <img src="../../../../gfx/square/cool.png" alt="8)" class="tid_ico">), plus léger... fin bref la totale.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_6">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_a_a5385c62_36482_100x100.png" title="Lokapi" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 septembre 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36482 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36482/1" tid_id="36482">Lokapi</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Frogs.png" title=""/> Lez Arts Ã  Dorer</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>J'ai une question qui me turlupine...<br>y'a-t-il toujours une "fuite de mémoire" quand on ferme un programme ?<br>Ou, comme les fonctions, la mémoire est libérée quand on sort de la boucle...<img src="../../../../gfx/square/calim.png" alt=":calim:" class="tid_ico"><span class="tid_sideNote">J'espère que je suis clair, car sincèrement, c'est une grande question pour moi. D'ailleurs, je remercie SuperMonkey, grâce à qui j'ai pu faire un jeu de Dames.</span></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_7">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 septembre 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Non, il n'y a pas fuite de mémoire quand un programme termine.</p><p>Je suppose que ta question est "dois-je faire un free sur tous les malloc que j'ai faits avant de sortir du programme" (ou, puisque c'est C++, "un delete sur tous les new").<br>Stricto sensu la réponse est : non.</p><p>La mémoire est libérée par l'OS en sortant (du moins par tous les OS que je connais sur lesquels un compilo C++ existe, y compris MacOS, Windows, Linux, BSD, Android, IOS, et même MSDOS)</p><p>En fait le fait de libérer tout ce qu'on a alloué avant de sortir tient plus du système réflexe. Et du dogme enseigné par certains prof. Perso je ne le fais pas, par exemple. Rien ne me gonfle plus que les programmes qui mettent 20 secondes à se fermer quand on a cliqué sur la croix, alors qu'il n'y a rien à sauvegarder. Et la raison en est souvent qu'ils passent du temps à fermer proprement des ressources (dont la mémoire) qui seront toutes fermées avec le process de toutes façons.</p><p>(Je ne généralise pas trop quand même : évidemment les ressources ouvertes auprès d'un service qui lui reste en exécution, mieux vaut les libérer en sortant)</p><p>édit: et, évidemment, ça vaut encore plus pour la mémoire allouée dans la pile. Cad la mémoire pas obtenue par "malloc" ou "new", mais simplement en déclarant des variables locales. Celles-là, même si le programme ne se terminait pas, elles disparaitraient quand on sort de "main". Idem pour les variables globales d'ailleurs (qui sont dans une autre section, mais ça revient au même).</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_8">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_6_5f5566f2_148_100x100.png" title="Bugzilla" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 13 septembre 2013
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_148 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/148/1" tid_id="148">Bugzilla</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Dark.png" title=""/> DivinitÃ© diabolique</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>C'est quand même une bonne idée de prendre l'habitude de libérer la mémoire quand on sait qu'on n'en aura plus besoin : un "free" pour chaque "malloc" en C ou un "delete" pour chaque "new" en C++.</p><p>Ce n'est pas juste une question de style et d'avoir des programmes bien propres ; cela permet aussi de détecter certains bugs. Quand on écrit un petit programme que l'on exécute de temps en temps et qui se termine en donnant les résultats demandés, ce n'est pas bien grave de ne pas libérer systématiquement la mémoire allouée puisque tout sera automatiquement libéré à la fin du programme.</p><p>Mais quand on écrit un programme tel qu'un serveur qui va devoir tourner pendant assez longtemps, il faut éviter les fuites de mémoire, c’est-à-dire les parties du code qui allouent de la nouvelle mémoire à chaque fois et ne la libèrent jamais. Si on n'y fait pas attention, le programme va prendre de plus en plus de mémoire et finir par avoir besoin de toute la mémoire de la machine. Ce n'est pas grave d'oublier de libérer les zones de mémoire qui ne sont allouées qu'une seule fois pour toute la durée du programme, mais c'est gênant lorsque cette fuite se produit dans une boucle ou dans une fonction qui est appelée plusieurs fois.</p><p>Il y a d'excellents outils tels que Valgrind (pour Linux) ou DrMemory (pour Windows et Linux) qui permettent de trouver de telles fuites dans un programme, ainsi que beaucoup d'autres bugs liés à l'utilisation de la mémoire. Mais ces outils ne peuvent pas toujours faire la différence entre de la mémoire allouée une seule fois et qu'on a oublié de libérer par paresse ou une vraie fuite de mémoire qui pourrait poser des problèmes. Si on a pris la bonne habitude de libérer proprement la mémoire qu'on alloue, alors ces outils indiqueront très rapidement les éventuelles sources d'erreurs. Si ce n'est pas le cas, alors il faudra d'abord faire le tri parmi des dizaines d'avertissements avant de trouver les vraies fuites.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div>
                                    <div id="tid_forumReplyForm" style="display: none"></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>