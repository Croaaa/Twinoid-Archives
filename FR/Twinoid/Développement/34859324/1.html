<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Processing</title>
    <link href="../../../../gfx/game/Twinoid.ico" rel="icon" type="image/gif"/>
    <link href="../../../../css/twinoid_layout.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/twinoid_bar.css" rel="stylesheet" type="text/css"/>
    <link href="../../../../css/custom.css" rel="stylesheet" type="text/css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.tid_niceHiddenNotice').click(function() {
                $(this).next('.tid_post').slideDown(500);
                $(this).slideUp(250);
            });
        });
    </script>
</head>
<body>
    <div id="contentBg">
        <div class="tid_forum_init" id="tid_forum">
            <div id="tid_forum_all"></div>
            <table class="tid_forumLayout">
                <tbody>
                    <tr>
                        <td id="tid_forum_right">
                            <div class="tid_containerWrapper">
                                <div class="tid_forumThread">
                                    <div class="tid_mainBar">
                                        <div class="tid_stack tid_bg4">
											<a class="tid_bg4" href="../../../Index.html" tid_href="left:">
												<img src="../../../../gfx/design/flag_FR.svg" style="width: 20px; height: 15px; vertical-align: middle;">
												Accueil
											</a>
                                            <a class="tid_bg4" href="../../Index.html" tid_href="left:">Twinoid</a>
                                            <a class="tid_bg4" href="../Index.html" tid_href="left:">Développement</a>
                                            <span class="tid_title">Processing</span>
                                        </div>
                                        
                                    </div>
                                    <div class="tid_clear tid_threadStart"></div>
                                    <div class="tid_post tid_ tid_read" id="tid_forumPost_0">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Bonjour tout le monde!Dans le cadre scolaire,je dois réaliser un programme sur Processing(c'est du Java.) qui affiche un carré de couleur dans une fenêtre. Le carré se déplace et quand il touche un mur,sa couleur change. Mais j'ai un problème au niveau de du détecteur de collision.C'est pourquoi je requiert votre aide!<br>Voici mon code:</p><p><cite> float vitessex;<br> float vitessey;<br> float x = random(1,800);<br> float y = random(1,800);<br> color c;<br> float direction = random(0,1)*PI;<br> float vitesse =0;<br>void setup()<br>{<br> size(800,800);<br> c = couleur();<br> smooth();<br>}<br><br>void draw(){<br> <br> vitessey = sin(direction)*vitesse;<br> vitessex = cos(direction)*vitesse;<br> <br> if (collisionHaut() == false){<br> vitessey=direction*-vitessey; <br> }<br><br> if (collisionGauche() == false)<br> {<br> vitessex=direction*-vitessex;<br> }<br> <br> if(collisionBas() == false)<br> {<br> vitessex = direction*-vitessex;<br> }<br> if(collisionDroite() == false)<br> {<br> vitessey = direction*-vitessey;<br> }<br> y = y + vitessey;<br> x = x + vitessex;<br> <br> background(0);<br> fill(c);<br> rect(x,y,100,100);<br>}<br>void mouseClicked(){<br> if(vitessex==0 || vitessey==0){<br> vitesse=random(1,10);<br> }<br> else {<br> vitesse=vitesse+2;<br> }<br>}<br><br><br>color couleur(){<br> return color(random(0, 255), random(0, 255), random(0, 255));<br>}<br><br>boolean collisionHaut()<br>{<br> return (y&lt;=0);<br>}<br><br>boolean collisionBas()<br>{<br> return (y&gt;=800); <br>}<br><br>boolean collisionGauche()<br>{<br> return (x&lt;=0); <br>}<br><br>boolean collisionDroite()<br>{<br> return (x&gt;=800); <br>}</cite></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_1">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Problème classique : ton code risque de faire 2 fois 1/2 tour en cas de collision.<br>Il faut faire 1/2 tour si tu es dans le mur, <strong>et que ta vitesse continue à te rapprocher du mur</strong><br>Sinon si on est dans le mur et qu'on est justement en train de chercher à en sortir, on fait 1/2 tour pour y retourner.<br>(Ou alors on dit explicitement qu'il y a collision dès qu'on est dans le mur, mais dans ce cas, on ne se contente pas de faire 1/2 tour, mais d'imposer explicitement une vitesse qui s'éloigne du mur dans lequel on rentre. En gros, soit faut changer la définition de "collision", soit il faut changer ce qu'on fait en cas de collision)</p><br><p>Par ailleurs, il y a un problème autour de tes "1/2 tours".</p><p><cite>if (collisionHaut() == false){<br>vitessey=direction*-vitessey; <br>}</cite><br>Es-tu sûr que c'est ce que tu veux dire ? <br>Essaye de le faire à la main, avec un exemple. Genre avec une direction de 30°, et une vitesse de disons 10.<br>Initialement, <br>vitessex=8,66 <br>et <br>vitessey=5</p><p>Que valent vitessex et vitessey après 2 rebonds contre un bord vertical ?<br>C'est ça que tu voulais ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_2">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Bah euh...vitessex=866? Et vitessey=5.<br>Donc oui,il y a un problème! <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"><br>Pour moi,il y a collision quand les coordonnées du carré sont égales au extrema de la taille de la fenêtre.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_3">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p><cite>Donc oui,il y a un problème! <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"><br></cite><br>Oui. En gros, pourquoi multiplier par direction ?</p><p>Ce que tu veux c'est que la vitesse horizontale s'inverse. Que son signe change. Mais sa valeur absolue, pas de raison qu'elle change, si ?<br>(Sauf si tu veux prévoir un amortissement, mais ton code ne donne pas cette impression)<br><cite>Pour moi,il y a collision quand les coordonnées du carré sont égales au extrema de la taille de la fenêtre.</cite><br>C'est une définition possible de la collision.<br>Mais dans ce cas il faut faire attention au scénario suivant :</p><p>etape 1 : x=1,0000000001 ; vitessex=-1<br>etape 2 : x=0,0000000001 ; vitessex=-1<br>etape 3 : x=-0,9 ; vitessex=-1 =&gt; collision =&gt; vitessex=1*coef=0,8<br>etape 4 : x=-0,1 ; vitessex=0,8 =&gt; collision =&gt; vitessex=-0,8*coef=-0,64<br>etape 5 : x=-0,74 ; vitessex=-0,64 =&gt; collision =&gt; vitessex=0,64*coef=0,512<br>...</p><p>Bref, tu restes coincé dans le mur entre -1 et 0, en n'en sortant plus jamais puisque chaque pas que tu fais pour en sortir est insuffisant et occasionne à nouveau un demi-tour.</p><br><p>Là, j'ai laissé le "coef" en supposant que ton "vitessex=-vitessex*direction" était là pour faire un amortissement.</p><p>Mais si c'était juste une erreur et que tu voulais dire "vitessex=-vitessex", ça n'empêche pas mon scénario d'être possible. Il faut bien comprendre que les "float" ne sont pas (contrairement aux "int"<strong></strong>) des valeurs exactes.</p><p>Donc si ça se trouve quand x vaut 1, et vitessex=-1, la nouvelle valeur de x sera non pas 0, mais 0,000000000000001<br>ou -0,0000000000001<br>1+1 ne vaut pas forcément exactement 2. Ca peut être 1,999999999999 (bon, pour des raisons de codage des flottants, j'ai pas choisi le meilleur exemple, mais c'est un détail).</p><br><p>Ce qui m'amène à un autre problème de ton code : <br><cite>if(vitessex==0 || vitessey==0){</cite><br>Cette comparaison est vide de sens. Parce qu'en "float" (ou "double", bref, en virgule flottante) les valeurs ne sont pas exactes.<br>Donc ça ne veut pas dire grand chose de comparer vitessex avec un ==<br>Si vitessex=1-1, le résultat sera peut être 0,0000000000001, donc pas 0.</p><p>En gros, c'est simple à retenir : <strong>jamais de == avec les float ou les double</strong>.<br>Si tu veux savoir si vitessex vaut 0, à toi de fixer une tolérance, et de vérifier que vitessex est plus petit que la tolérance<br>(soit tu fixes cette tolérance en fonction de ce que tu sais de l'erreur numérique possible ; mais c'est un boulot de numéricien un peu éloigné de tes préoccupations quand tu fais un truc qui rebondit.<br>Soit tu fixes cette tolérance en fonction de ce dont tu as réellement besoin comme précision, en espérant que le processeur sera assez précis pour toi - il le sera.<br>Ou, si tu as la flemme de réfléchir tu mets juste un nombre très petit, mais plus grand que la précision du float cad 7 chiffres environ</p><p>Soit :<br><cite>if(abs(vitessex)&lt;0,000002)</cite> au lieu de<br><cite>if(vitessex==0)</cite></p><p>édit : un truc qui aurait été pratique pour diminuer la taille de mon pavé, c'est que tu dises ce que tu espères que ça fasse. Car j'imagine que ce n'est pas vraiment ce que fait le code que tu espères^^</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_4">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Le carré doit effectivement ralentir,j'ai oublié de le préciser. <img src="http:../../../../gfx/square/anim.png/oups.gif" alt=":anim_oups:" class="tid_ico"></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_5">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 11 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Il doit ralentir quand ? A chaque rebond ? Ou tout le temps ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_6">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>C'est pas précisé dans le cahier des charge.C'est au bon vouloir de l'élève.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_7">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_6_3_5024682b_158_100x100.gif" title="leedo$158" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_158 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/158/1" tid_id="158">leedo$158</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\rank_furi_5.gif" title=""/> Pirate Android</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Le plus simple serait d'accélérer progressivement jusqu'à une vitesse maximal et de remettre la vitesse à 0 en cas de collision.</p><p>À chaque clic, au lieu d'augmenter la variable vitesse, augmenter une variable vitesse_max. Au début de draw, remplacer vitesse par le minimum de vitesse_max et vitesse*1.1, par exemple.</p><p>Pour les collisions, je pense que le plus simple est de calculer les valeurs vitessex et vitessey après les tests de collisions et d'ajouter pi à direction en cas de collision.</p><p>Une utilisation approprié des notation hongroise aurait pu éviter des problèmes je pense. Direction exprime un angle avec une unité un peu bizarre. Vitessex et Vitessey exprime des distances. Avec une notation hongroise, ils aurait eu des noms comme a_direction, d_vitessex et d_vitessey. Une multiplication entre a_ et d_ indique clairement une erreur.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_8">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>* A mon avis mettre la vitesse à 0 en cas de collision c'est pile ce qu'il ne faut pas faire. A quoi bon avoir un rebond, avec inversion de vitesse, si on n'a pas l'occasion de voir le rebond puisque de toutes façons le truc stoppe net ?</p><ul><li>Ajouter "pi" à la direction ne fait pas le job. Ça ne fait que refaire partir dans la direction opposée. Heureusement que ça ne se passe comme ça en réalité, sinon ça serait difficile de jouer au billard (au billard faut mettre un sacré effet pour arriver à faire ça, sauf quand on est perpendiculaire au mur, évidemment)<br>Et puis faire de la trigo à chaque collision, alors que le problème trigo est fixé une fois pour toute avec la direction de départ dans le cahier des charges... je sais bien que les processeurs modernes font des sin et des cos comme qui rigole, mais c'est pas une raison pour en faire des milliers là où 2 suffisent, quand c'est si facile de l'éviter (on sait jamais ; s'il voulait porter son code sur un PIC ou un Arduino...)</li><li>La vitesse n'est pas une distance <img src="../../../../gfx/square/wink.png" alt=";)" class="tid_ico"> Et je pense que celui qui multiplie "vitesse" par "direction" sans voir l'erreur n'en verra pas plus en multipliant "d_..." par "a_..."</li></ul><br><p>Pour les rebonds c'est plutôt simple : il y a une des composantes de la vitesse qui s'inverse pour "fuir" le mur. Si c'est un mur vertical, c'est "vitessex" qui s'inverse pour fuir le mur, si c'est un mur horizontal, c'est vitessey</p><p>Donc, si x&lt;=0, vitessex doit devenir positif (sans changer de valeur absolue)<br>Ce qui veut dire en gros :<br><strong>si (x&lt;=0 et vitessex&lt;0) alors vitessex=-vitessex</strong><br>(Dit autrement, si on est dans le mur et qu'on continue à y aller, changer de direction pour s'en aller au contraire)</p><p><strong>si (x&gt;=800 et vitessex&gt;0) alors vitessex=-vitessex</strong></p><p>etc</p><p>direction ne sert qu'une fois, au début, pour fixer les valeurs initiales de vitessex et vitessey.<br>Il faut d'ailleurs sortir ce calcul de "draw", sinon ça veut dire que vitessex et vitessey sont rétablis à leur valeur initiale à chaque mouvement, quoi qu'on fasse par ailleurs.</p><p>Si en plus on veut un ralentissement, il faut prévoir un facteur d'amortissement.</p><p>Le plus physique serait probablement d'amortir au moment des rebonds (c'est là, dans la vraie vie, qu'une boule de billard perd le plus d'énergie)<br>Auquel cas, c'est simple (et pas la peine de refaire de la trigo là non plus) il suffit de multiplier les deux composantes de vitesse par un facteur (inférieur à 1 bien sûr)<br>Par exemple</p><pre>amortissement=0.9;
if(x&lt;=0 &amp;&amp; vitessex&lt;0){
&nbsp;&nbsp;&nbsp;vitessex=-amortissement*vitessex;
&nbsp;&nbsp;&nbsp;vitessey=amortissement*vitessey;
}
</pre><p>Les deux composantes de la vitesse sont amorties (l'angle ne change donc pas, au rebond près donc inutile de recalculer), et vitessex change de sens pour le rebond</p><p>Si on veut amortir en dehors des rebonds, le plus simple c'est probablement de planquer dans "draw" un truc comme</p><pre>vitessex=amortissement2*vitessex;
vitessey=amortissement2*vitessey;
</pre><p>(Je l'appelle amortissement2 parce qu'on peut vouloir faire les 2 : un amortissement au rebond et un autre en permanence. Auquel cas il faudrait quand même leur trouver des noms plus explicites<br>amortissement2 sera un nombre plus petit que 1, mais beaucoup plus proche de 1 que l'autre, sinon ça ralentira beaucoup trop vite. 0.9999 me semble une bonne valeur)</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_9">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="Durss" style="background-color: rgb(204,180,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_48 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/48/1" tid_id="48">Durss</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p><cite>(Je l'appelle amortissement2 parce qu'on peut vouloir faire les 2 : un amortissement au rebond et un autre en permanence. Auquel cas il faudrait quand même leur trouver des noms plus explicites</cite><br>Friction? <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"><br> <br>Sinon je plussoie tout mon voisin précédent.<br>On est toujours tenté de se lancer dans de savants calculs de physiques pour calculer l'angle du rebond alors qu'une simple inversion de la vitesse en X ou Y est bien suffisant pour faire ça.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_10">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_6_3_5024682b_158_100x100.gif" title="leedo$158" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_158 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/158/1" tid_id="158">leedo$158</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\rank_furi_5.gif" title=""/> Pirate Android</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <span class="tid_preCite"><span class="tid_user tid_user_36044 tid_userBg tid_userUnknown tid_parsed" tid_bg="1" tid_id="36044">ayalti</span></span><cite><ul><li>La vitesse n'est pas une distance <img src="../../../../gfx/square/wink.png" alt=";)" class="tid_ico"></li></ul></cite><p>Je te propose de le redire.<br>vitessex contient le déplacement horizontale de l'objet à chaque tour de boucle. Tu es sur que ce n'est pas une distance ?</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_11">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Oui, j'en suis sûr. Une vitesse n'est pas une distance.</p><p>Mélanger les vitesse et les distances, en suivant ton propre raisonnement, c'est ce qui t'empêchera de voir l'erreur dans<br>d_x = d_x + d_vitesse*t_dt</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_12">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_6_5f5566f2_148_100x100.png" title="Bugzilla" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_148 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/148/1" tid_id="148">Bugzilla</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\Dark.png" title=""/> DivinitÃ© diabolique</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>La friction peut être intégrée en imposant une vitesse minimale.</p><p>Par exemple :</p><pre> amortissement = 0.95;
 vitesse2min = 1.0;

 ... /* dans la boucle : */
 vitessex = amortissement * vitessex;
 vitessey = amortissement * vitessey;
 if (vitessex * vitessex + vitessey * vitessey &lt; vitesse2min) {
 &nbsp;&nbsp;vitessex = 0;
 &nbsp;&nbsp;vitessey = 0;
}
</pre>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_13">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p><img src="../../../../gfx/square/hmm.png" alt=":-/" class="tid_ico"> Faut pas s'engueuler les gens! <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"></p><p>Voici mon nouveau code.Maintenant,le carré tape bien contre les murs mais refuse de repartir...<br><cite> float vitessex;<br> float vitessey;<br> float x = random(1,700);<br> float y = random(1,700);<br> color c;<br> float direction = random(0,2)*PI;<br> float vitesse =random(0,10);<br>void setup()<br>{<br> size(800,800);<br> c = couleur();<br> smooth();<br>}<br><br>void draw(){<br> <br> vitessey = sin(direction)*vitesse;<br> vitessex = cos(direction)*vitesse;<br> <br> if (collisionHaut() == false)<br> {<br> direction = je sais pas <img src="../../../../gfx/square/cry.png" alt=":'(" class="tid_ico">;<br> }<br><br> if (collisionGauche() == false)<br> {<br> direction = je sais pas <img src="../../../../gfx/square/cry.png" alt=":'(" class="tid_ico">;<br> }<br> <br> if(collisionBas() == false)<br> {<br> direction = je sais pas <img src="../../../../gfx/square/cry.png" alt=":'(" class="tid_ico">;<br> }<br> if(collisionDroite() == false)<br> {<br> direction = je sais pas <img src="../../../../gfx/square/cry.png" alt=":'(" class="tid_ico">;<br> }<br> y = y + vitessey;<br> x = x + vitessex;<br> <br> background(0);<br> fill(c);<br> rect(x,y,100,100);<br>}<br>void mouseClicked(){<br> if( abs(vitessex)&lt;0.000002 || abs(vitessey)&lt;0.000002){<br> vitesse=random(1,10);<br> }<br> else {<br> vitesse=vitesse+2;<br> }<br>}<br><br><br>color couleur(){<br> return color(random(0, 255), random(0, 255), random(0, 255));<br>}<br><br>boolean collisionHaut()<br>{<br> return (y&lt;=0);<br>}<br><br>boolean collisionBas()<br>{<br> return (y&gt;=700); <br>}<br><br>boolean collisionGauche()<br>{<br> return (x&lt;=0); <br>}<br><br>boolean collisionDroite()<br>{<br> return (x&gt;=700); <br>}</cite><br>La ça devient surtout un problème mathématiques...</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_14">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Non, c'est toujours de l'info.</p><p>Je t'ai donné des tas d'éléments que tu n'as pas utilisés.</p><ul><li>sors vitessex=cos(direction)*vitesse de "draw"</li><li>le test de collision c'est "si on est dans un mur <strong>et qu'on continue à s'y enfoncer</strong>" (cf mon message précédent pour la traduction en C)</li><li>la réaction à une collision (à la place de tes "direction=je ne sais pas"<strong></strong>) je te l'ai donnée aussi.</li></ul>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_15">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>J'avais sorti vitessex=cos(direction)*vitesse mais la détection de collision ne fonctionnait plus.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_16">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_6_3_5024682b_158_100x100.gif" title="leedo$158" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_158 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/158/1" tid_id="158">leedo$158</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\rank_furi_5.gif" title=""/> Pirate Android</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Cool. Il a rien compris et tu lui dit de recopier.</p><p>Pour une solution simple, si tu détecte une collisions, tu déplace ton objet de manière à ne plus être en collisions puis tu choisis une nouvelle direction aléatoire.</p><p>Après tout, il n'est spécifié à aucun moment que les collisions doivent entraîner un rebond façon billard.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_17">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\img_defaultAvatar.png" title="ayalti" style="background-color: rgb(204,171,82); width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_36044 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/36044/1" tid_id="36044">ayalti</a>
        </div>
        <div class="tid_title">
            
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Leedo, par pitié, ne viens pas compliquer les choses juste pour le plaisir d'avoir raison.</p><p>Il est manifestement débutant, et tu viens embrouiller le truc en voulant faire des rebonds catadioptriques, et maintenant aléatoires, que tu justifies ensuite a posteriori pour ne pas admettre t'être planté.</p><p>Jouons à "qui est le meilleur informaticien" sur un autre sujet, stp ; pas sur celui où un débutant demande de l'aide.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_18">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_6_3_5024682b_158_100x100.gif" title="leedo$158" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_158 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/158/1" tid_id="158">leedo$158</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\rank_furi_5.gif" title=""/> Pirate Android</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Tu m'excuseras, mais il n'a pas l'air d'avoir compris tes explications. Pour aider les gens, ça sers à rien d'être le meilleur programmeur si on ne sais pas expliquer les choses.</p><p>Il arrive à détecter une collisions et à choisir une direction aléatoire. On lui demande un objet qui avance, change de couleur et de direction en cas de collisions.<br>Il lui suffit de se déplacer pour ne plus être en collisions et de choisir une nouvelle direction.</p><p>De plus, on ne connais pas l'ensemble du code. Il est tout à fait possible qu'un second draw puisse s'executer avant que le premier ne se termine. Dans ce cas là, il doit "téléporter" l'objet.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_19">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Je vous ai donné tout le code.</p><p><strong>Edit:</strong>Nouvelle contrainte,le professeur nous demande réaliser ce projet en moins de 100 lignes.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_20">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_6_3_5024682b_158_100x100.gif" title="leedo$158" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_158 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/158/1" tid_id="158">leedo$158</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\rank_furi_5.gif" title=""/> Pirate Android</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Il y a du code qu'on ne connais pas. On ne sais pas si draw est appelé à nouveau dès qu'elle se termine ou bien 30 ou 60 fois par seconde.</p><p>Pour gagner en nombre de ligne, tu peux te passer des fonctions de collisions qui ne sont appelé qu'une seul fois, de couleur() qui est aussi appelé une seul fois.<br>Dans clicked, la première partie du if sera toujours appelé pour des cas particulier de direction et une seul fois si vitesse est une valeur proche de 0. Je pense que tu peux enlever réduire mouseClicked à vitesse = vitesse + 2 et changer la valeur de vitesse de random(0,10) à random(1,10).</p><p>Mais actuellement, je ne pense pas que tu dépasse la limite de 100 lignes.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_21">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_7_5_cabba39e_43789_100x100.png" title="Davf" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 12 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_43789 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/43789/1" tid_id="43789">Davf</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\r_sandb.gif" title=""/> Porteur du Souvenir</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>Bonjour,</p><p>j'avais eu un exercice du même type à faire.</p><p>Personnellement, j'avais géré cela ainsi :</p><p>Pour les collisions, je détectais si le carré dépassé la frontière.<br>Quand c'était le cas, en fonction de la frontière (haut, bas, droite, gauche) je repositionnais le carré contre la frontière.<br>Je gardais donc sa position en X ou Y, suivant la frontière, et modifier le X ou Y pour que le carré se retrouve contre la frontière.<br>En parallèle, j'effectuais le rebond en inversant les X ou Y. Et pour la vitesse j'avais un compteur de "rebond". Chaque rebond réduisant un peu plus la vitesse.</p><br><p>En exemple : <br>Si mon carré avait un mouvement vers le haut à droite et rencontrait la frontière Droite.<br>Il traverse alors la frontière.<br>Je gardais sa position en Y. <br>Je replaçais le carré en FrontiereD-TailleCarre pour le X. (le bord de référence du carré était HautGauche il me faillait déduire sa taille pour pas le placer en dehors de la frontière).<br>Je gardais son déplacement en Y pour qu'il continue de monter et j'inversais son déplacement en X pour qu'il aille vers la gauche.<br>Enfin, j'appliquais ma réduction de vitesse.<br>Dans ton cas, il faut appliquer également le changement de couleur.</p><br><p>Je dis pas que c'est "la" solution. Mais c'est celle que j'avais trouvé et qui fonctionné pas mal.<br>Il faut cependant des conditions pour chaque frontière et bien pensé aux modification de X et Y que tu effectues.</p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div><div class="tid_post tid_ tid_read" id="tid_forumPost_22">
    <div class="tid_header tid_bg1">
        <div class="tid_floatBox">
            <table class="tid_valign" style="width : 80px">
                <tbody>
                    <tr>
                        <td>
                            <div class="tid_twinoidAvatar" style="width:80px; max-height:80px; height:80px;">
                                <img src="..\..\..\..\gfx\avatars\twinoid_3_1_0dbaf7d2_125492_100x100.jpg" title="Miopau" style="background-color: ; width: 80px;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tid_date">
            Le 13 janvier 2014
        </div>
        <div class="tid_name">
            <a class="tid_user tid_user_125492 tid_userNoBg tid_userFriend tid_parsed" href="//twinoid.com/user/go/125492/1" tid_id="125492">Miopau</a>
        </div>
        <div class="tid_title">
            <span class="tid_userTitle"><img alt="[?]" src="..\..\..\..\gfx\icons\small_attack.gif" title=""/> Ã‰ternel second</span>
        </div>
        <div class="tid_clearRight"></div>
    </div>
    <div class="tid_body tid_bg2">
        <div class="tid_arrow"></div>
        <div class="tid_originContent">
            <div class="tid_editorContent tid_parsed">
                <p>J'ai réussi!J'ai bien bossé dessus aujourd'hui et tout marche!Et en moins de 100 lignes! <img src="../../../../gfx/square/happy.png" alt=":D" class="tid_ico"><br>Et comme les prof' voulaient que notre imagination s'exprime,j'ai fait un petit carré noir qui suit la souris et si le cube le touche,il est renvoyé ailleurs!<br>Donc merci à tout les gens de m'avoir aidé!<img src="http://mush.vg/img/icons/ui/likemush.gif" alt=":mush_likemush:" class="tid_ico"></p>
            </div>
        </div>
        <div class="tid_clear"></div>
    </div>
</div>
                                    <div id="tid_forumReplyForm" style="display: none"></div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>